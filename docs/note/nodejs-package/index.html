<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">Nodejs的包管理： CommonJS / AMD / CMD | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://tomoya06.github.io//docs/note/nodejs-package"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Nodejs的包管理： CommonJS / AMD / CMD | My Site"><meta data-react-helmet="true" name="description" content="参考来源"><meta data-react-helmet="true" property="og:description" content="参考来源"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://tomoya06.github.io//docs/note/nodejs-package"><link data-react-helmet="true" rel="alternate" href="https://tomoya06.github.io//docs/note/nodejs-package" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://tomoya06.github.io//docs/note/nodejs-package" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9e7bfb73.css">
<link rel="preload" href="/assets/js/runtime~main.75e42135.js" as="script">
<link rel="preload" href="/assets/js/main.9fd0c34b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">My Site</b></a><a class="navbar__item navbar__link" href="/docs/codezone_intro">CodeZone</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/note_intro">随手记</a><a class="navbar__item navbar__link" href="/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/tomoya06" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note_intro">随手记</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/hbase-basic">HBase 入门</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/java-springboot-security">SpringBoot Security 配置方案</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/ts-basic">TypeScript学习笔记</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/es-basic">ElasticSearch 基础</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/algorithm-basic">数据结构基本+基本拓展</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/java-frameworks">一个完整的Java SpringBoot项目中会用到的框架</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/solidity">Solidity 语法学习笔记</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/linux-cmd">Linux Commands</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/git-common">Git常用指令记录</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/vue-source-code">Vue源码学习记录 - 初始化和渲染</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/es-advanced">ElasticSearch 进阶</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/redis-basic">Redis 基础</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/hello-world">Hello World</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/vue-source-code-2">Vue源码学习记录 - 响应式原理</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/web-notes">因特网五层协议笔记</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/os-basic1">操作系统 - 概述</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/js-vue-instance">Vue组件生命周期</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/java-main">Java程序入口 - Main.main()函数</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/web-hw02">计算机网络作业2</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/python-basic">python learning notes</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/algorithm-binary-search">二分查找cheat sheet</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/python-oop">python learning notes - oop</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/web-steps">一台电脑从联网到看到网页全过程的技术细节</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/crypto-basic">加密算法笔记</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/js-task-event">js事件执行流程</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/java-multi-thread">Java多线程</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/js-this">【翻译】理解JS的函数调用和‘this’的指向 / Understanding JavaScript Function Invocation and &quot;this&quot;</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/compilers-COOL">斯坦福 编译原理 - COOL语法要点</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/crypto-PKI">PKI</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/crypto-puf">基于PUF的IoT设备身份管理模型</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/other-ideaide-shortcut">Idea ide 快捷键记录</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/java-oop">面向对象</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/compiler-basic">编译原理-再次预习</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/css-common">常用CSS属性 - 文字换行/超长</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/java-generics">Java泛型</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/java-stream">java-stream</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/python-basic2">python learning notes 2</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/linux-security">Linux Server Security</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/js-es-standard">各代ES标准及特点</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/js-vue-basic">Vue基础+拓展</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/note/nodejs-package">Nodejs的包管理： CommonJS / AMD / CMD</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/os-cluster">os-cluster</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/java-basic">101-java</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/common-whatsthis">CODING - 这是什么？</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/api-github">API使用指南-GitHub</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/linux-beautify">常用美化指令收藏</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/docker-basic">docker-basic</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/os-basic2">操作系统 - 进程管理</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/java-springboot-sso">java-springboot-sso</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/java-whywhywhy">Java 到底发生了什么？？</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/nodejs-process">Node child_process</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/web-post-form">常见POST提交数据方式</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/note/electron-basic">Electron基础</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Nodejs的包管理： CommonJS / AMD / CMD</h1></header><blockquote><p><a href="https://www.cnblogs.com/libin-1/p/7127481.html" target="_blank" rel="noopener noreferrer">参考来源</a></p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="commonjs"></a>CommonJS<a class="hash-link" href="#commonjs" title="Direct link to heading">#</a></h2><ul><li>Node创造之初出现，主要为了服务端模块化开发</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="模块定义"></a>模块定义<a class="hash-link" href="#模块定义" title="Direct link to heading">#</a></h3><ul><li>语法：module.exports/exports - require</li><li>区别：exports只是module.exports的引用，require的内容还是module.exports的</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="amd"></a>AMD<a class="hash-link" href="#amd" title="Direct link to heading">#</a></h2><ul><li>为了客户端模块化开发而诞生。</li><li>AMD是”Asynchronous Module Definition”的缩写，它采用异步方式加载模块，模块的加载不影响它后面语句的运行。</li><li>所有依赖这个模块的语句，都定义在一个回调函数中，等到加载完成之后，这个回调函数才会运行。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="模块定义-1"></a>模块定义<a class="hash-link" href="#模块定义-1" title="Direct link to heading">#</a></h3><ul><li>语法：define(id?, dependencies? , factory) - require(modules[]?, callback)</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="规范实现"></a>规范实现<a class="hash-link" href="#规范实现" title="Direct link to heading">#</a></h3><ul><li>目前，主要有两个Javascript库实现了AMD规范：<a href="https://requirejs.org/" target="_blank" rel="noopener noreferrer">require.js</a>和<a href="http://cujojs.com/" target="_blank" rel="noopener noreferrer">curl.js</a>。</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="cmd"></a>CMD<a class="hash-link" href="#cmd" title="Direct link to heading">#</a></h2><ul><li>与AMD类似</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="区别"></a>区别<a class="hash-link" href="#区别" title="Direct link to heading">#</a></h3><ul><li>AMD和CMD最大的区别是对依赖模块的执行时机处理不同，而不是加载的时机或者方式不同，二者皆为异步加载模块。</li><li>AMD依赖前置，js可以方便知道依赖模块是谁，立即加载；</li><li>而CMD就近依赖，需要使用把模块变为字符串解析一遍才知道依赖了那些模块，这也是很多人诟病CMD的一点，牺牲性能来带来开发的便利性，实际上解析模块用的时间短到可以忽略。</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="es6标准"></a>ES6标准<a class="hash-link" href="#es6标准" title="Direct link to heading">#</a></h2><blockquote><p>注意，当前还没有原生的支持ES6语法的JS引擎。参考<a href="https://stackoverflow.com/a/31367852/8356786" target="_blank" rel="noopener noreferrer">这条StackOverflow回答</a>：
Keep in mind that there is no JavaScript engine yet that natively supports ES6 modules. You said yourself that you are using Babel. Babel converts import and export declaration to CommonJS (require/module.exports) by default anyway. So even if you use ES6 module syntax, you will be using CommonJS under the hood if you run the code in Node.
There are technical difference between CommonJS and ES6 modules, e.g. CommonJS allows you to load modules dynamically. ES6 doesn&#x27;t allow this, but there is an API in development for that.
Since ES6 modules are part of the standard, I would use them.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="模块定义-2"></a>模块定义<a class="hash-link" href="#模块定义-2" title="Direct link to heading">#</a></h3><ul><li>语法：export - import</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_2ga9 padding--none margin-left--sm"><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/docs/tags/前端">前端</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/docs/tags/node">Node</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/note/js-vue-basic"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Vue基础+拓展</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/note/os-cluster"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">os-cluster »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#commonjs" class="table-of-contents__link">CommonJS</a><ul><li><a href="#模块定义" class="table-of-contents__link">模块定义</a></li></ul></li><li><a href="#amd" class="table-of-contents__link">AMD</a><ul><li><a href="#模块定义-1" class="table-of-contents__link">模块定义</a></li><li><a href="#规范实现" class="table-of-contents__link">规范实现</a></li></ul></li><li><a href="#cmd" class="table-of-contents__link">CMD</a><ul><li><a href="#区别" class="table-of-contents__link">区别</a></li></ul></li><li><a href="#es6标准" class="table-of-contents__link">ES6标准</a><ul><li><a href="#模块定义-2" class="table-of-contents__link">模块定义</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">快捷方式</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/codezone_intro">CodeZone</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/note_intro">随手记</a></li></ul></div><div class="col footer__col"><div class="footer__title">联系我</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/tomoya06" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.instagram.com/pjh_tomoya06/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/tomoya06/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">我在看...</div><ul class="footer__items"><li class="footer__item"><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>TypeSctipt<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.instagram.com/russian_romantics/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>俄罗斯烂漫<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>闲暇时光 ☕<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 tomoya06's HomePage, Heavelop Inc. <br>Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.75e42135.js"></script>
<script src="/assets/js/main.9fd0c34b.js"></script>
</body>
</html>